= Searching, Sampling and Aggregation
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.



== Searching

=== Exploring

The *search* function can be used to search a Solr Cloud collection and return a
result set.

Below is an example of the most basic *search* function called from the Zeppelin-Solr interpreter.
Zeppelin-Solr sends the *seach(testapp)* call to the /stream handler and displays the results
in *table* format.


In the example the search function passed only the name of the collection being search. This returns
a result set of 10 records showing all fields in and unspecified order. This simple function is useful
for exploring the fields in the data and understanding how to start refining the search criteria.

image::images/math-expressions/search1.png[]

==== Searching and Sorting

Once we see the format of the records we can add parameters to the *search* function to begin analyzing
the data.

In the example below a search query (q), field list (fl), rows and sort have been added to the search
function. Now we are searching for records which contain weather in the abstract_t field and returning
a result set of 500 sorted by a timestamp descending. We have also limited the result set to only three
fields.

image::images/math-expressions/search-sort.png[]


Once we have a the data loaded into the table we can switch to a scatter plot of the filesize_d column
on the *x axis* and the response_d column on the *y axis*.

image::images/math-expressions/search-sort-plot.png[]

This allows us to quickly visualize the relationship between two variables
select from the a very specific slice of the index. In this example it's the
500 most recent documents by timestamp, that match the term *weather*.

=== Scoring


== Sampling

=== Univariate Scatter Plots

=== Bivariate Scatter Plots



== Aggregations

=== facet

=== facet2D

=== timeseries

=== significantTerms