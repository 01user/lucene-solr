= Searching, Sampling and Aggregation
// Licensed to the Apache Software Foundation (ASF) under one
// or more contributor license agreements.  See the NOTICE file
// distributed with this work for additional information
// regarding copyright ownership.  The ASF licenses this file
// to you under the Apache License, Version 2.0 (the
// "License"); you may not use this file except in compliance
// with the License.  You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing,
// software distributed under the License is distributed on an
// "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.  See the License for the
// specific language governing permissions and limitations
// under the License.



== Searching

=== Exploring

The *search* function can be used to search a Solr Cloud collection and return a
result set.

Below is an example of the most basic *search* function called from the Zeppelin-Solr interpreter.
Zeppelin-Solr sends the *seach(testapp)* call to the /stream handler and displays the results
in *table* format.


In the example the search function passed only the name of the collection being search. This returns
a result set of 10 records showing all fields in and unspecified order. This simple function is useful
for exploring the fields in the data and understanding how to start refining the search criteria.

image::images/math-expressions/search1.png[]

==== Searching and Sorting

Once the format of the records is known, parameters can be added to the *search* function to begin analyzing
the data.

In the example below a search query, field list, rows and sort have been added to the search
function. Now the search is limited to records within a specific time range and returns
a max result set of 750 records sorted by tdate_dt ascending. We have also limited the result set to three specific
fields.

image::images/math-expressions/search-sort.png[]


Once we have a the data loaded into the table we can switch to a scatter plot and plot the filesize_d column
on the *x axis* and the response_d column on the *y axis*.

image::images/math-expressions/search-sort-plot.png[]

This allows us to quickly visualize the relationship between two variables
selected from the a a specific slice of the index.

=== Scoring

The `search` function will score and rank documents when a query is performed on
a text field. The example below shows an example of this scoring and ranking of results.

image::images/math-expressions/scoring.png[]



== Sampling




=== Univariate Scatter Plots

=== Bivariate Scatter Plots



== Aggregations

=== facet

=== facet2D

=== timeseries

=== significantTerms