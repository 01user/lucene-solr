{
  "documentation": "TODO NOCOMMIT",
  "description": "The Scaling API provides API for adding cluster level scaling rules, triggers and event listeners",
  "methods": [
    "POST"
  ],
  "url": {
    "paths": [
      "/cluster/autoscaling"
    ]
  },
  "commands": {
    "set-trigger": {
      "type":"object",
      "description": "The set-trigger command allows you to add and update triggers on various system metrics",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the trigger"
        },
        "event": {
          "type": "string",
          "description": "The event type on which to set a trigger"
        },
        "waitFor": {
          "type": "string",
          "description": "The amount of time to wait after the trigger condition is satisfied before trigger is activated"
        },
        "lowerBound": {
          "type": "number",
          "description": "The lower bound of the condition below which the trigger is activated"
        },
        "upperBound": {
          "type": "number",
          "description": "The upper bound of the condition below which the trigger is activated"
        },
        "enabled": {
          "type": "boolean",
          "description": "The state of the trigger"
        },
        "actions": {
          "type": "array",
          "description": "The actions to be performed in sequence when the trigger is activated",
          "event": {
            "type": "string",
            "description": "The event type on which to set a trigger"
          },
          "waitFor": {
            "type": "string",
            "description": "The amount of time to wait after the trigger condition is satisfied before trigger is activated"
          },
          "lowerBound": {
            "type": "number",
            "description": "The lower bound of the condition below which the trigger is activated"
          },
          "upperBound": {
            "type": "number",
            "description": "The upper bound of the condition below which the trigger is activated"
          },
          "enabled": {
            "type": "boolean",
            "description": "The state of the trigger"
          },
          "actions": {
            "type": "array",
            "description": "The actions to be performed in sequence when the trigger is activated",
            "items": {
              "type": "object"
            }
          }
        },
        "required": [
          "name",
          "event"
        ]
      }
    },
    "remove-trigger": {
      "description": "Remove a trigger",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the trigger to be removed"
        },
        "removeListeners": {
          "type": "boolean",
          "description": "If true, all listeners of this triggers are deleted together with the trigger"
        }
      },
      "required": [
        "name"
      ]
    },
    "set-listener": {
      "description": "The set-listener command lets you add a listener to a trigger",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the listener"
        },
        "trigger": {
          "type": "string",
          "description": "The name of the trigger to listen to"
        },
        "stage": {
          "type": "array",
          "description": "The stage of the trigger for which to listen",
          "items": {
            "type" : "string"
          }
        },
        "beforeAction": {
          "type": "array",
          "description": "The name of the action before which the listener should be notified",
          "items": {
            "type" : "string"
          }
        },
        "afterAction": {
          "type": "array",
          "description": "The name of the action after which the listener should be notified",
          "items": {
            "type" : "string"
          }
        },
        "class": {
          "type": "string",
          "description": "The listener class to be notified once the given stage of the given trigger is activated"
        }
      },
      "required": [
        "name",
        "trigger",
        "class"
      ],
      "additionalProperties": true
    },
    "remove-listener": {
      "description": "Remove a listener",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the listener to be removed"
        }
      },
      "required": [
        "name"
      ]
    },
    "suspend-trigger": {
      "description": "Pauses a trigger until an explicit resume is invoked or if the optional timeout expires",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the trigger to be suspended or '#EACH' to suspend all triggers"
        },
        "timeout": {
          "type": "string",
          "description": "Optional timeout after which all triggers are resumed automatically"
        }
      },
      "required": [
        "name"
      ]
    },
    "resume-trigger": {
      "description": "Resumes a suspended trigger",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the trigger to be resumed or '#EACH' to resume all triggers"
        }
      },
      "required": [
        "name"
      ]
    }
  }
}
